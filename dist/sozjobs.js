(()=>{function l(a){return a.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function i(a){return`job${a.charAt(0).toUpperCase()+a.slice(1)}`}let n=document.querySelector('[data-job-element="component"]'),c=n.querySelector('[data-job-element="list"]'),m=n.querySelector('[data-job-element="empty-state"]'),d=n.querySelector('[data-job-element="template"]');window.addEventListener("jobDataReady",()=>{console.log("JOB DATA READY"),m.remove();let a=window.jobData,f=window.categoryData,y=window.contractTypesData;console.log(jobData),a.forEach(e=>{let o=d.cloneNode(!0);o.classList.remove("hide"),o.classList.remove("is-template"),o.style.display="flex";let u=["title","accessionPer","rate","categoryNames","contractTypeName"];e.isparttime?e.rate=`${e.parttimefrom}-${e.parttimeto}%`:e.rate="Vollzeit 100%",e.categorynames=e.categories.map(t=>(console.log("CATEGORY NAME:",t.name),t?t.name:"")).filter(t=>t!==null).join(", "),e.contracttypename=y.find(t=>t.key===e.contracttype)?.value,u.forEach(t=>{let w=`[data-job-${l(t)}]:not(a)`,r=o.querySelector(w);r.innerText=e[t.toLowerCase()],r.dataset[i(t)]=e[t.toLowerCase()]||"init",t==="title"&&(r.dataset.formSelectOptionValue=e[t.toLowerCase()])});let s=o.querySelector("a");s.href=`/job?id=${e.identitynumber}`,s.target="",c.appendChild(o),console.log(e)});let p=new Event("cmsFormSelectReady");c.dispatchEvent(p)}),window.addEventListener("jobDataEmpty",()=>{c.remove()})})();
