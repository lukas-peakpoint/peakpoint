(()=>{function l(a){return a.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function i(a){return`job${a.charAt(0).toUpperCase()+a.slice(1)}`}let n=document.querySelector('[data-job-element="component"]'),r=n.querySelector('[data-job-element="list"]'),m=n.querySelector('[data-job-element="empty-state"]'),d=n.querySelector('[data-job-element="template"]');window.addEventListener("jobDataReady",()=>{console.log("JOB DATA READY"),m.remove();let a=window.jobData,w=window.categoryData,y=window.contractTypesData;console.log(jobData),a.forEach(e=>{let o=d.cloneNode(!0);o.classList.remove("hide"),o.classList.remove("is-template"),o.style.display="flex";let p=["title","accessionPer","rate","categoryNames","contractTypeName"];e.isparttime?e.rate=`${e.parttimefrom}-${e.parttimeto}%`:e.rate="Vollzeit 100%",e.categorynames=e.categories.map(t=>(console.log("CATEGORY NAME:",t.name),t?t.name:"")).filter(t=>t!==null).join(", "),e.contracttypename=y.find(t=>t.key===e.contracttype)?.value,p.forEach(t=>{let u=`[data-job-${l(t)}]:not(a)`,s=o.querySelector(u);s.innerText=e[t.toLowerCase()],s.dataset[i(t)]=e[t.toLowerCase()]||"init"});let c=o.querySelector("a");c.href=`/job?id=${e.identitynumber}`,c.target="",r.appendChild(o),console.log(e)})}),window.addEventListener("jobDataEmpty",()=>{r.remove()})})();
