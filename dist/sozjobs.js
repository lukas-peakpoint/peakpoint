(()=>{function u(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function y(e){return`job${e.charAt(0).toUpperCase()+e.slice(1)}`}function b(e){let s=document.createElement("option");return s.setAttribute("value",e),s.innerText=e,s}let f=document.querySelector("[data-form-select-target]"),c=document.querySelector('[data-job-element="component"]'),i=c.querySelector('[data-job-element="list"]'),h=c.querySelector('[data-job-element="empty-state"]'),w=c.querySelector('[data-job-element="template"]'),r=3;window.addEventListener("jobDataReady",()=>{let e=window.jobData,s=window.contractTypesData;if(!e.length){i.remove();return}h.remove();let d=(a,l)=>{e.slice(a,a+l).forEach(t=>{let n=w.cloneNode(!0);n.classList.remove("hide"),n.classList.remove("is-template"),n.style.display="flex";let L=["title","accessionPer","rate","categoryNames","contractTypeName"];t.isparttime?t.rate=`${t.parttimefrom}-${t.parttimeto}%`:t.rate="Vollzeit 100%",t.categorynames=t.categories.map(o=>o?o.name:"").filter(o=>o!==null).join(", "),t.contracttypename=s.find(o=>o.key===t.contracttype)?.value,L.forEach(o=>{let S=`[data-job-${u(o)}]:not(a)`,p=n.querySelector(S);p.innerText=t[o.toLowerCase()],p.dataset[y(o)]=t[o.toLowerCase()]||"init"});let m=n.querySelector("a");m.href=`/jobs/job?id=${t.identitynumber}`,m.target="",i.appendChild(n)})};if(d(0,r),e.length>r){let a=c.querySelector('[data-job-element="pagination"]');a.classList.remove("hide"),a.addEventListener("click",()=>{r+=3,d(r-3,3),r>=e.length&&a.classList.add("hide")})}e.map(a=>{let l=new b(a.title);f.appendChild(l)})}),window.addEventListener("jobDataEmpty",()=>{i.remove()})})();
