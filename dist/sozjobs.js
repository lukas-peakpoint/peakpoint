(()=>{function h(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function L(e){return`job${e.charAt(0).toUpperCase()+e.slice(1)}`}function w(e){let r=document.createElement("option");return r.setAttribute("value",e),r.innerText=e,r}function p(){u.remove(),y.classList.remove("hide")}function S(){v.forEach(e=>{e.remove()})}var g=document.querySelector("[data-form-select-target]"),c=document.querySelector('[data-job-element="component"]'),u=c.querySelector('[data-job-element="list"]'),y=c.querySelector('[data-job-element="empty-state"]'),j=c.querySelector('[data-job-element="template"]'),v=c.querySelectorAll('[data-job-element="loading"]'),s=3;window.addEventListener("jobDataReady",()=>{let e=window.jobData,r=window.contractTypesData;if(!e.length){p();return}y.remove();let l=(a,i)=>{e.slice(a,a+i).forEach(t=>{let n=j.cloneNode(!0);n.classList.remove("hide"),n.classList.remove("is-template"),n.style.display="flex";let b=["title","accessionPer","rate","categoryNames","contractTypeName"];t.isparttime?t.rate=`${t.parttimefrom}-${t.parttimeto}%`:t.rate="Vollzeit 100%",t.categorynames=t.categories.map(o=>o?o.name:"").filter(o=>o!==null).join(", "),t.contracttypename=r.find(o=>o.key===t.contracttype)?.value,b.forEach(o=>{let f=`[data-job-${h(o)}]:not(a)`,m=n.querySelector(f);m.innerText=t[o.toLowerCase()],m.dataset[L(o)]=t[o.toLowerCase()]||"init"});let d=n.querySelector("a");d.href=`/jobs/job?id=${t.identitynumber}`,d.target="",u.appendChild(n)})};if(l(0,s),S(),e.length>s){let a=c.querySelector('[data-job-element="pagination"]');a.classList.remove("hide"),a.addEventListener("click",()=>{s+=3,l(s-3,3),s>=e.length&&a.classList.add("hide")})}e.map(a=>{let i=new w(a.title);g.appendChild(i)})});window.addEventListener("jobDataEmpty",()=>{p()});})();
