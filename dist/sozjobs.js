(()=>{function b(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function f(e){return`job${e.charAt(0).toUpperCase()+e.slice(1)}`}function h(e){let c=document.createElement("option");return c.setAttribute("value",e),c.innerText=e,c}function l(){d.remove(),m.classList.remove("hide")}function L(){g.forEach(e=>{e.remove()})}let w=document.querySelector("[data-form-select-target]"),r=document.querySelector('[data-job-element="component"]'),d=r.querySelector('[data-job-element="list"]'),m=r.querySelector('[data-job-element="empty-state"]'),S=r.querySelector('[data-job-element="template"]'),g=r.querySelectorAll('[data-job-element="loading"]'),s=3;window.addEventListener("jobDataReady",()=>{let e=window.jobData,c=window.contractTypesData;if(!e.length){l();return}m.remove();let p=(a,i)=>{e.slice(a,a+i).forEach(t=>{let n=S.cloneNode(!0);n.classList.remove("hide"),n.classList.remove("is-template"),n.style.display="flex";let j=["title","accessionPer","rate","categoryNames","contractTypeName"];t.isparttime?t.rate=`${t.parttimefrom}-${t.parttimeto}%`:t.rate="Vollzeit 100%",t.categorynames=t.categories.map(o=>o?o.name:"").filter(o=>o!==null).join(", "),t.contracttypename=c.find(o=>o.key===t.contracttype)?.value,j.forEach(o=>{let v=`[data-job-${b(o)}]:not(a)`,y=n.querySelector(v);y.innerText=t[o.toLowerCase()],y.dataset[f(o)]=t[o.toLowerCase()]||"init"});let u=n.querySelector("a");u.href=`/jobs/job?id=${t.identitynumber}`,u.target="",d.appendChild(n)})};if(p(0,s),L(),e.length>s){let a=r.querySelector('[data-job-element="pagination"]');a.classList.remove("hide"),a.addEventListener("click",()=>{s+=3,p(s-3,3),s>=e.length&&a.classList.add("hide")})}e.map(a=>{let i=new h(a.title);w.appendChild(i)})}),window.addEventListener("jobDataEmpty",()=>{l()})})();
