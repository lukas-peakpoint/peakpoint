(()=>{function l(a){return a.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function i(a){return`job${a.charAt(0).toUpperCase()+a.slice(1)}`}window.addEventListener("jobDataReady",()=>{console.log("JOB DATA READY");let a=window.jobData,y=window.categoryData,n=window.contractTypesData,r=document.getElementById("jobs-component"),d=r.querySelector('[data-job-card-template="true"]');console.log(jobData),console.log(n),a.forEach(e=>{let o=d.cloneNode(!0);o.classList.remove("hide"),o.classList.remove("is-template"),o.style.display="flex";let m=["title","accessionPer","rate","categoryNames","contractTypeName"];e.isparttime?e.rate=`${e.parttimefrom}-${e.parttimeto}%`:e.rate="Vollzeit 100%",e.categorynames=e.categories.map(t=>(console.log("CATEGORY NAME:",t.name),t?t.name:"")).filter(t=>t!==null).join(", "),e.contracttypename=n.find(t=>t.key===e.contracttype)?.value,m.forEach(t=>{let p=`[data-job-${l(t)}]:not(a)`,s=o.querySelector(p);s.innerText=e[t.toLowerCase()],s.dataset[i(t)]=e[t.toLowerCase()]||"init"});let c=o.querySelector("a");c.href=`/job?id=${e.identitynumber}`,c.target="",r.appendChild(o),console.log(e)})})})();
