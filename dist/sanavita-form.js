(()=>{var p='[data-form-element="component"]',T="form",S='[data-form-element="success"]',y='[data-form-element="error"]',h='[data-form-element="submit"]',g=".w-input, .w-select",M='[data-steps-element="component"]',L='[data-steps-element="list"]',v='[data-steps-element="step"]',b='[data-steps-element="pagination"]',H="button[data-step-target]",w='[data-steps-nav="prev"]',C='[data-steps-nav="next"]';var O=document.documentElement.dataset.wfSite||"",I=document.documentElement.dataset.wfPage||"";function R(e){e.style.height=e.offsetHeight.toString();let t=e.cloneNode(!0);return t.dataset.replaced="true",e.parentNode.replaceChild(t,e),t.style.removeProperty("height"),t}function q(e){if(!e)return console.error("Form component not found:",p),!1;e=R(e),e.classList.remove("w-form");let t=e.querySelector(T);return t?(k(t),N(e),x(e),A(e),P(e),t.dataset.state="initialized",e.addEventListener("submit",r=>{r.preventDefault(),t.dataset.state="sending",F(e,t)}),!0):(console.error(`The selected form component does not contain a HTMLFormElement. Perhaps you added ${p} to the form element itself rather than its parent element?

Form Component:`,e),!1)}async function _(e){let t=`https://webflow.com/api/v1/form/${O}`,r={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json, text/javascript, */*; q=0.01"},body:JSON.stringify(e)};try{let o=await fetch(t,r);if(!o.ok)throw new Error(`Network response "${o.status}" was not okay`);return console.log("Form submission success! Status",o.status),!0}catch(o){return console.error("Form submission failed:",o),!1}}async function F(e,t){function r(){u&&(u.style.display="block"),t.style.display="none",t.dataset.state="success",t.dispatchEvent(new CustomEvent("formSuccess"))}function o(){d&&(d.style.display="block"),t.dataset.state="error",t.dispatchEvent(new CustomEvent("formError"))}let E={customSubmit:!0},c=t.querySelectorAll(g),u=e.querySelector(S),d=e.querySelector(y),n=e.querySelector(h);if(!(n instanceof HTMLInputElement)||n.type!=="submit")throw new Error('The submitButton element is not an HTML input element with type="submit".');n.dataset.defaultText=n.value,n.value=n.dataset.wait||"Wird gesendet ...",c.forEach((s,a)=>{E[s.dataset.name||`Field ${a}`]=s.value});let m={name:t.dataset.name,pageId:I,elementId:t.dataset.wfElementId,source:window.location.href,test:!1,fields:E,dolphin:!1};await _(m)?(r(),n.value=n.dataset.defaultText):o()}function k(e){e.querySelectorAll("button").forEach(r=>{r.setAttribute("type","button"),r.addEventListener("click",o=>{})})}function A(e){let t=".w-checkbox-input",r=".w-radio-input",o="w--redirected-checked",E="w--redirected-focus",c="w--redirected-focus-visible",u=":focus-visible, [data-wf-focus-visible]",d=[["checkbox",t],["radio",r]];e.querySelectorAll('input[type="checkbox"]:not(.w-checkbox-input)').forEach(n=>{n.addEventListener("change",m=>{let l=m.target,s=l.closest(".w-checkbox")?.querySelector(t);s&&s.classList.toggle(o,l.checked)})}),e.querySelectorAll('input[type="radio"]').forEach(n=>{n.addEventListener("change",m=>{let l=m.target;if(!l.checked)return;let s=l.name;e.querySelectorAll(`input[type="radio"][name="${s}"]`).forEach(i=>{let f=i.closest(".w-radio")?.querySelector(r);f&&f.classList.remove(o)});let a=l.closest(".w-radio")?.querySelector(r);a&&a.classList.add(o)})}),d.forEach(([n,m])=>{e.querySelectorAll(`input[type="${n}"]:not(${m})`).forEach(l=>{l.addEventListener("focus",s=>{let a=s.target,i=a.closest(".w-checkbox, .w-radio")?.querySelector(m);i&&(i.classList.add(E),a.matches(u)&&i.classList.add(c))}),l.addEventListener("blur",s=>{let i=s.target.closest(".w-checkbox, .w-radio")?.querySelector(m);i&&i.classList.remove(E,c)})})})}function P(e){e.querySelectorAll("[data-decision-group]").forEach(r=>{let o=r.querySelectorAll("input[data-decision]"),E=r.dataset.decisionGroup,c=document.querySelector(`[data-decision-extra-fields="${E}"]`);if(o.length===0){console.error(`Decision group "${E}" does not contain any decision input elements.`);return}if(!c){console.error(`Extra fields container for decision group "${E}" not found.`);return}c.style.display="none",r.addEventListener("change",u=>{let d=u.target;d.matches("input[data-decision]")&&d.dataset.decision==="show"?c.style.display="block":c.style.display="none"})})}function N(e){if(!(e.getAttribute("data-steps-element")||"")){console.error(`Form Steps: Component is not a steps component or is missing the attribute ${M}.
Component:`,e);return}let r=e.querySelector(L);if(!r){console.error(`Form Steps: Component does not contain a step list "${L}"`);return}let o=e.querySelectorAll(v);if(!o.length){console.warn("Form Steps: The selected list doesn't contain any steps. Skipping initialization. Provided List:",r);return}let c=e.querySelector(b).querySelectorAll(H),u=e.querySelector(C),d=e.querySelector(w),n=0;o.forEach((s,a)=>{a===0?s.classList.remove("hide"):s.classList.add("hide"),s.dataset.stepId=a.toString()});function m(){c.forEach((s,a)=>{s.dataset.stepTarget=a.toString(),s.addEventListener("click",i=>{i.preventDefault(),l(a)})})}m();function l(s,a=!1){if(n===s&&!a){console.log("Change Form Step: Target step equals current step.");return}s===0?(d.style.opacity="0",u.style.opacity="1"):s===o.length-1?(d.style.opacity="1",u.style.opacity="0"):(d.style.opacity="1",u.style.opacity="1"),o[n].classList.add("hide"),o[s].classList.remove("hide"),c.forEach((i,f)=>{f<s?(i.classList.add("is-done"),i.classList.remove("is-active")):f===s?(i.classList.remove("is-done"),i.classList.add("is-active")):(i.classList.remove("is-done"),i.classList.remove("is-active"))}),n=s}l(n,!0),u.addEventListener("click",s=>{s.preventDefault(),n<o.length-1&&l(n+1)}),d.addEventListener("click",s=>{s.preventDefault(),n>0&&l(n-1)})}function x(e){let t='[data-form-array-element="component"]';function r(){}}document.addEventListener("DOMContentLoaded",()=>{let e=document.querySelector(p),t=q(e);console.log("Form initialized:",t)});})();
