(()=>{var p='[data-form-element="component"]',T="form",S='[data-form-element="success"]',y='[data-form-element="error"]',h='[data-form-element="submit"]',g=".w-input, .w-select",v='[data-steps-element="component"]',L='[data-steps-element="list"]',M='[data-steps-element="step"]',b='[data-steps-element="pagination"]',H="button[data-step-target]",w='[data-steps-nav="prev"]',C='[data-steps-nav="next"]';var I=document.documentElement.dataset.wfSite||"",q=document.documentElement.dataset.wfPage||"";function O(e){e.style.height=e.offsetHeight.toString();let s=e.cloneNode(!0);return s.dataset.replaced="true",e.parentNode.replaceChild(s,e),s.style.removeProperty("height"),s}function k(e){if(!e)return console.error("Form component not found:",p),!1;e=O(e),e.classList.remove("w-form");let s=e.querySelector(T);return s?(_(s),N(e),F(e),A(e),s.dataset.state="initialized",e.addEventListener("submit",r=>{r.preventDefault(),s.dataset.state="sending",P(e,s)}),!0):(console.error(`The selected form component does not contain a HTMLFormElement. Perhaps you added ${p} to the form element itself rather than its parent element?

Form Component:`,e),!1)}async function R(e){let s=`https://webflow.com/api/v1/form/${I}`,r={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json, text/javascript, */*; q=0.01"},body:JSON.stringify(e)};try{let o=await fetch(s,r);if(!o.ok)throw new Error(`Network response "${o.status}" was not okay`);return console.log("Form submission success! Status",o.status),!0}catch(o){return console.error("Form submission failed:",o),!1}}async function P(e,s){function r(){u&&(u.style.display="block"),s.style.display="none",s.dataset.state="success",s.dispatchEvent(new CustomEvent("formSuccess"))}function o(){d&&(d.style.display="block"),s.dataset.state="error",s.dispatchEvent(new CustomEvent("formError"))}let E={customSubmit:!0},c=s.querySelectorAll(g),u=e.querySelector(S),d=e.querySelector(y),n=e.querySelector(h);if(!(n instanceof HTMLInputElement)||n.type!=="submit")throw new Error('The submitButton element is not an HTML input element with type="submit".');n.dataset.defaultText=n.value,n.value=n.dataset.wait||"Wird gesendet ...",c.forEach((t,a)=>{E[t.dataset.name||`Field ${a}`]=t.value});let m={name:s.dataset.name,pageId:q,elementId:s.dataset.wfElementId,source:window.location.href,test:!1,fields:E,dolphin:!1};await R(m)?(r(),n.value=n.dataset.defaultText):o()}function _(e){e.querySelectorAll("button").forEach(r=>{r.setAttribute("type","button"),r.addEventListener("click",o=>{})})}function F(e){let s=".w-checkbox-input",r=".w-radio-input",o="w--redirected-checked",E="w--redirected-focus",c="w--redirected-focus-visible",u=":focus-visible, [data-wf-focus-visible]",d=[["checkbox",s],["radio",r]];e.querySelectorAll('input[type="checkbox"]:not(.w-checkbox-input)').forEach(n=>{n.addEventListener("change",m=>{let l=m.target,t=l.closest(".w-checkbox")?.querySelector(s);t&&t.classList.toggle(o,l.checked)})}),e.querySelectorAll('input[type="radio"]').forEach(n=>{n.addEventListener("change",m=>{let l=m.target;if(!l.checked)return;let t=l.name;e.querySelectorAll(`input[type="radio"][name="${t}"]`).forEach(i=>{let f=i.closest(".w-radio")?.querySelector(r);f&&f.classList.remove(o)});let a=l.closest(".w-radio")?.querySelector(r);a&&a.classList.add(o)})}),d.forEach(([n,m])=>{e.querySelectorAll(`input[type="${n}"]:not(${m})`).forEach(l=>{l.addEventListener("focus",t=>{let a=t.target,i=a.closest(".w-checkbox, .w-radio")?.querySelector(m);i&&(i.classList.add(E),a.matches(u)&&i.classList.add(c))}),l.addEventListener("blur",t=>{let i=t.target.closest(".w-checkbox, .w-radio")?.querySelector(m);i&&i.classList.remove(E,c)})})})}function A(e){e.querySelectorAll("[data-decision-group]").forEach(r=>{let o=r.querySelectorAll("input[data-decision]"),E=r.dataset.decisionGroup,c=document.querySelector(`[data-decision-extra-fields="${E}"]`);if(o.length===0){console.error(`Decision group "${E}" does not contain any decision input elements.`);return}if(!c){console.error(`Extra fields container for decision group "${E}" not found.`);return}c.style.display="none",r.addEventListener("change",u=>{let d=u.target;d.matches("input[data-decision]")&&d.dataset.decision==="show"?c.style.display="block":c.style.display="none"})})}function N(e){if(!(e.getAttribute("data-steps-element")||"")){console.error(`Form Steps: Component is not a steps component or is missing the attribute ${v}.
Component:`,e);return}let r=e.querySelector(L);if(!r){console.error(`Form Steps: Component does not contain a step list "${L}"`);return}let o=e.querySelectorAll(M);if(!o.length){console.warn("Form Steps: The selected list doesn't contain any steps. Skipping initialization. Provided List:",r);return}let c=e.querySelector(b).querySelectorAll(H),u=e.querySelector(C),d=e.querySelector(w),n=0;o.forEach((t,a)=>{a===0?t.classList.remove("hide"):t.classList.add("hide"),t.dataset.stepId=a.toString()});function m(){c.forEach((t,a)=>{t.dataset.stepTarget=a.toString(),t.addEventListener("click",i=>{i.preventDefault(),l(a)})})}m();function l(t,a=!1){if(n===t&&!a){console.log("Change Form Step: Target step equals current step.");return}t===0?(d.style.opacity="0",u.style.opacity="1"):t===o.length-1?(d.style.opacity="1",u.style.opacity="0"):(d.style.opacity="1",u.style.opacity="1"),o[n].classList.add("hide"),o[t].classList.remove("hide"),c.forEach((i,f)=>{f<t?(i.classList.add("is-done"),i.classList.remove("is-active")):f===t?(i.classList.remove("is-done"),i.classList.add("is-active")):(i.classList.remove("is-done"),i.classList.remove("is-active"))}),n=t}l(n,!0),u.addEventListener("click",t=>{t.preventDefault(),n<o.length-1&&l(n+1)}),d.addEventListener("click",t=>{t.preventDefault(),n>0&&l(n-1)})}document.addEventListener("DOMContentLoaded",()=>{let e=document.querySelector(p),s=k(e);console.log("Form initialized:",s)});})();
