{
  "version": 3,
  "sources": ["../js-library/banner.js"],
  "sourcesContent": ["// Speziellen Infobanner in die Navbar verschieben\r\n\r\nconst languagePrefixes = ['/en', '/de'];\r\nconst bannerType = {\r\n    lounge: \"/limmathof-lounge\",\r\n    thaiGarden: \"/thai-garden\"\r\n};\r\n\r\nconst nav = document.querySelector('[pp-type=\"nav-wrapper\"]');\r\nconst bannerWrapper = nav.querySelector('[pp-type=\"infobanner-wrapper\"]');\r\nconst allBanners = bannerWrapper.querySelectorAll('[banner-type]:not(:has(.w-dyn-empty))');\r\nconst path = window.location.pathname;\r\n\r\nfunction manageBanners() {\r\n    if (!allBanners.length) { return }\r\n\r\n    let hasExpectedBanner = false;\r\n    const hasSpecialBannerPath = Object.values(bannerType).some(bannerPath => path.includes(bannerPath));\r\n    \r\n    // Is it a special path that has the banner expected by the path?\r\n    allBanners.forEach(banner => {\r\n        let existingBanner = banner.getAttribute('banner-type');\r\n        if (path.includes(bannerType[existingBanner])) { hasExpectedBanner = true};\r\n    })\r\n\r\n    allBanners.forEach(banner => {\r\n        let currentBannerType = banner.getAttribute('banner-type');\r\n        if (currentBannerType === 'default') {\r\n            if (!hasSpecialBannerPath || !hasExpectedBanner) {\r\n                banner.classList.add('show');\r\n                setBannerSpeed(banner);\r\n            } else {\r\n                banner.classList.add('hide');\r\n            }\r\n        } else if (path.includes(bannerType[currentBannerType])) {\r\n            banner.classList.add('show');\r\n            setBannerSpeed(banner);\r\n        } else {\r\n            banner.classList.add('hide');\r\n        }\r\n    });\r\n}\r\n\r\nfunction setBannerSpeed(track) {\r\n    track = track.querySelector('.marquee_track');\r\n    const distance = track.offsetWidth;\r\n    const pixelsPerSecond = 100; // Adjust this value to change the speed\r\n    const duration = distance / pixelsPerSecond;\r\n    track.style.animationDuration = `${duration}s`;\r\n    return duration\r\n}\r\n\r\nfunction setAllSpeeds() {\r\n    const allMarquees = document.querySelector('main').querySelectorAll('.marquee_component');\r\n    allMarquees.forEach(marquee => setBannerSpeed(marquee));\r\n}\r\n\r\nwindow.addEventListener('DOMContentLoaded', () => {\r\n    manageBanners();\r\n    setAllSpeeds();\r\n    console.log('manage banners done');\r\n});"],
  "mappings": "AAGA,IAAMA,EAAa,CACf,OAAQ,oBACR,WAAY,cAChB,EAEMC,EAAM,SAAS,cAAc,yBAAyB,EACtDC,EAAgBD,EAAI,cAAc,gCAAgC,EAClEE,EAAaD,EAAc,iBAAiB,uCAAuC,EACnFE,EAAO,OAAO,SAAS,SAE7B,SAASC,GAAgB,CACrB,GAAI,CAACF,EAAW,OAAU,OAE1B,IAAIG,EAAoB,GAClBC,EAAuB,OAAO,OAAOP,CAAU,EAAE,KAAKQ,GAAcJ,EAAK,SAASI,CAAU,CAAC,EAGnGL,EAAW,QAAQM,GAAU,CACzB,IAAIC,EAAiBD,EAAO,aAAa,aAAa,EAClDL,EAAK,SAASJ,EAAWU,CAAc,CAAC,IAAKJ,EAAoB,GACzE,CAAC,EAEDH,EAAW,QAAQM,GAAU,CACzB,IAAIE,EAAoBF,EAAO,aAAa,aAAa,EACrDE,IAAsB,UAClB,CAACJ,GAAwB,CAACD,GAC1BG,EAAO,UAAU,IAAI,MAAM,EAC3BG,EAAeH,CAAM,GAErBA,EAAO,UAAU,IAAI,MAAM,EAExBL,EAAK,SAASJ,EAAWW,CAAiB,CAAC,GAClDF,EAAO,UAAU,IAAI,MAAM,EAC3BG,EAAeH,CAAM,GAErBA,EAAO,UAAU,IAAI,MAAM,CAEnC,CAAC,CACL,CAEA,SAASG,EAAeC,EAAO,CAC3BA,EAAQA,EAAM,cAAc,gBAAgB,EAG5C,IAAMC,EAFWD,EAAM,YACC,IAExB,OAAAA,EAAM,MAAM,kBAAoB,GAAGC,CAAQ,IACpCA,CACX,CAEA,SAASC,GAAe,CACA,SAAS,cAAc,MAAM,EAAE,iBAAiB,oBAAoB,EAC5E,QAAQC,GAAWJ,EAAeI,CAAO,CAAC,CAC1D,CAEA,OAAO,iBAAiB,mBAAoB,IAAM,CAC9CX,EAAc,EACdU,EAAa,EACb,QAAQ,IAAI,qBAAqB,CACrC,CAAC",
  "names": ["bannerType", "nav", "bannerWrapper", "allBanners", "path", "manageBanners", "hasExpectedBanner", "hasSpecialBannerPath", "bannerPath", "banner", "existingBanner", "currentBannerType", "setBannerSpeed", "track", "duration", "setAllSpeeds", "marquee"]
}
